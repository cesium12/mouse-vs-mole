<html>
<head>
    <title>Node Test</title>
    <script src="/js/inc/jquery.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <script>
var socket = io.connect();

socket.on('connect', function() {
    socket.emit('login', {
        uid: parseInt(Math.random() * 1000),
        ua: navigator.userAgent
    });
});
socket.on('update', function(data) {
    $('<div>').text(data).appendTo(document.body);
});

$(document).keydown(function(event) {
    socket.emit('key', {
        type: 'down',
        which: event.which
    });
}).keyup(function(event) {
    socket.emit('key', {
        type: 'up',
        which: event.which
    });
});
    </script>
</body>
</html>
